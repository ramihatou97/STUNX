# KOO Platform Environment Variables
# Copy this file to .env and fill in your API keys

# Database Configuration
DATABASE_URL=postgresql://username:password@host:port/database

# Database Connection Pool Settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Database Circuit Breaker Configuration
DB_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
DB_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
DB_CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2

# Database Retry Configuration
DB_MAX_RETRIES=3
DB_RETRY_BASE_DELAY=1.0
DB_RETRY_MAX_DELAY=30.0
DB_RETRY_BACKOFF_MULTIPLIER=2.0

# AI API Keys (Required for full functionality)
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here
GOOGLE_AI_API_KEY=your_google_ai_api_key_here
PERPLEXITY_API_KEY=your_perplexity_api_key_here

# AI Service Error Handling Configuration
AI_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
AI_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
AI_CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2

# AI Service Retry Configuration
AI_MAX_RETRIES=3
AI_RETRY_BASE_DELAY=1.0
AI_RETRY_MAX_DELAY=30.0
AI_RETRY_BACKOFF_MULTIPLIER=2.0

# AI Service Rate Limiting
AI_DEFAULT_REQUESTS_PER_MINUTE=60
AI_DEFAULT_REQUESTS_PER_HOUR=1000
AI_DEFAULT_REQUESTS_PER_DAY=10000
AI_DEFAULT_DAILY_BUDGET=10.0

# Health Check Configuration
AI_HEALTH_CHECK_INTERVAL=60
DB_HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Redis Cache Configuration
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true
REDIS_HEALTH_CHECK_INTERVAL=30

# Cache Configuration
CACHE_DEFAULT_TTL=3600
CACHE_COMPRESSION_THRESHOLD=1024
CACHE_MAX_VALUE_SIZE=10485760

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_TIME_LIMIT=1800
CELERY_TASK_SOFT_TIME_LIMIT=1500
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_ACKS_LATE=true
CELERY_RESULT_EXPIRES=3600

# PDF Processing Configuration
PDF_MAX_FILE_SIZE=104857600
PDF_MAX_PAGES=1000
PDF_MEMORY_LIMIT=536870912
PDF_CHUNK_SIZE=8388608
PDF_POOL_SIZE=5
PDF_PROCESSING_TIMEOUT=1800
PDF_PAGE_BATCH_SIZE=10
PDF_CACHE_TTL=86400
PDF_CHECKPOINT_INTERVAL=50
PDF_MEMORY_CHECK_INTERVAL=10

# Application Settings
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Admin User (Single-user system)
ADMIN_NAME=Your Name
ADMIN_EMAIL=your.email@example.com

# Security
SECRET_KEY=your-secret-key-here-generate-a-strong-one
ALLOWED_ORIGINS=https://your-app-name.railway.app

# Optional: Redis for caching (Railway can provide this)
REDIS_URL=redis://localhost:6379/0